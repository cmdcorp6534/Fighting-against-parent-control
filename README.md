# 常见家长对电子设备控制方法的对抗方法的研究

作者：cmdcorp6534

---

## 摘要

家长对设备的控制方式主要方法有两种：一种是通过“健康使
用”功能监控和限制应用的使用、限制应用安装、禁用开发人员模
式；另一种是通过配置路由器“儿童上网”功能监控和限制特定网
站的访问。这些手段让广大受害者苦不堪言。本文针对华为设备提
供了对抗思路，其他品牌大同小异，也可参考。

关键词：鸿蒙、健康使用、安装包、漏洞、网络、深度包检测

---

## 1. 引言

### 1.1 研究的背景与意义

作者的设备被家长通过各种方式控制，认为对自己的这种控制是极端不合理的行为。由于沟通困难，便想要在技术层面与这种控制相对抗，同时给广大受害者提供对抗思路。

### 1.2 研究的对象

作者对自己的手机（华为 P30 Pro VOG-AL10）进行研究，确定了“健康使用”功能的对抗思路；对自己的笔记本电脑进行研究，确定了网络封锁的对抗思路。

### 1.3 研究的局限性

所研究的手机型号较老旧，官方已停止支持，故不再会收到系统更新。作者通过 OTG 将操作系统降级到较低的版本（由鸿蒙 4 降级至鸿蒙 2），然后进行研究。在最新的操作系统是否起效暂不明确。对网络封锁的对抗思路理论适用于所有设备（包括手机和电脑）。

---

## 2. 研究过程

### 2.1 研究理论概述

#### 2.1.1 针对“健康使用”功能可利用的系统漏洞

“健康使用”功能具有较高的系统权限，同时还禁用了开发人员模式，这意味着无法进行 ADB 调试，对其直接的禁用几乎不可能。但在系统安装应用时，会强行停止应用的运行。对于“健康使用”功能，这会导致“应用限额”所对应的服务被强行停止，需要重启才能恢复。因此，只需要试图安装“健康使用”，就能解除“应用限额”所带来的限制。对于应用安装的限制，由于在旧版本的“主题”中，hwt 文件中的一个 apk 文件用于指导动态壁纸的效果，并且应用主题时无需验证“健康使用”的密码，因此可以通过此漏洞安装应用。但由于“主题”似乎只允许大小不超过 100MB 的主题包，因此对于较大体积的安装包，需要一些更复杂的方法进行安装。操作系统对软件更新的判定存在逻辑漏洞，在直接安装 apk 文件时，若包含和签名一致，则判断为软件更新。但应用市场只检验包名，若签名不一致，会先卸载原应用，然后用官方的安装包覆盖安装，此过程无需验证“健康使用”密码。

#### 2.1.2 路由器“儿童上网”拦截访问请求的原理

“儿童上网”功能主要通过深度包检测，抓取 TLS Client Hello 包中的 SNI 字段，区分访问请求，对照名单中的网站访问请求进行丢包，故客户端不能与服务器建立加密连接。

### 2.2 研究方法

对于“健康使用”功能，主要通过 MT 管理器对 apk 文件进行反编译、修改。对于路由器“儿童上网”功能，主要通过电脑 Wireshark 抓包，分析网络活动。

---

## 3. 结论与建议

### 3.1 对“健康使用”功能的对抗建议

#### 3.1.1 对“应用限额”的对抗建议

打开 MT 管理器，提取“健康使用”（被归类为系统应用）的安装包，安装，此时会提示安装失败。若操作无误，“应用限额”将不会继续工作，被限制的应用可被正常打开。

#### 3.1.2 对“限制安装应用”的对抗建议

（1）安装包体积不超过 100MB

下载一个动态壁纸主题，打开 hwt 文件（内部文件以 zip 格式压缩），在 wallpaper 文件夹中用目标安装包替换其中的壁纸 apk 文件，文件名要求与壁纸 apk 文件一致。再修改 hwt 文件中的 description.xml 文件，更改主题标题（因为应用过的主题中的 apk 不会被再次安装），将修改后的 hwt 文件复制到 /storage/emulated/0/Huawei/Themes 中。打开飞行模式，打开设置，对“主题”卸载更新。打开“主题”，在“我的主题”中找到修改过的主题，应用。若操作无误，目标应用将被安装。MT 管理器安装包体积不超过 100MB，故通过此方法安装后可进行后续其他操作。

（2）安装包体积超过 100MB

复制目标安装包包名，替换壁纸 apk 包名，对目标安装包和壁

纸 apk 文件用相同的密钥重新签名。仿照（1）中步骤修改并安装主

题，然后正常安装目标应用。

若目标应用存在签名校验，则需要保证该应用已上架“应用市

场”。降低目标安装包版本号，安装后在“应用市场”根据提示更新

该应用即可。

#### 3.1.3 对“健康使用”功能对抗的局限性

暂无有效方法对抗“健康使用”功能对设备使用情况的监控，

各应用的使用时长仍会被记录。在低版本系统中（指鸿蒙2，此漏

洞已在鸿蒙4 中被修复）虽然可以在应用权限管理中禁用“监控使

用”访问设备使用情况的权限，但极易被发现（家长端会显式地说

明权限被禁用），这么做不会从根本上清除使用情况，此方法须谨慎

使用。

### 3.2 对路由器“儿童上网”功能的对抗建议

#### 3.2.1 针对各设备对路由器“儿童上网”功能的对抗建议

对于手机设备，使用移动数据访问相关网站；对于其他无SIM卡支持的设备，连接至手机热点，通过手机移动数据访问相关网站即可。

#### 3.2.2 对路由器“儿童上网”功能对抗的局限性

除了上述方法，还可以通过VPN和网站代理等方式访问相关网站，受限于相关法律规定，本文不展开讨论。使用手机移动数据上网，路由器不会，也不可能监控或阻止网站的访问。但在大多数情况下，通过此方法访问相关网站时网络连接不如通过路由器访问稳定，可能会出现网站加载缓慢，视频播放较卡顿等现象，但仍在可接受范围内。

---

## 参考资料

[1] 【华为手机开启了健康使用手机就无法安装应用？教你一招解  
决-哔哩哔哩】https://b23.tv/hEWIjFC  

[2] 【如何绕过华为健康手机限制安装大体积应用-哔哩哔哩】  
https://b23.tv/FrLEnTB  

---

**鸣谢**

技术顾问：DeepSeek
